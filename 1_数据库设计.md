### 1. 用户表（`user`）

#### 作用：存储所有角色用户信息（商户、管理员）

|   字段名    |         数据类型          | 长度 | 允许空 | 主键 / 外键 |            备注说明             |
| :---------: | :-----------------------: | :--: | :----: | :---------: | :-----------------------------: |
|   user_id   |          BIGINT           |  20  |   否   | 主键（PK）  |       用户唯一 ID（自增）       |
|  user_name  |          VARCHAR          |  50  |   否   |  唯一索引   |      登录账号（不可重复）       |
|  password   |          VARCHAR          | 100  |   否   |      -      |          加密后的密码           |
|    salt     |          VARCHAR          | 255  |   否   |      -      |              盐值               |
|    role     | enum ('customer','merchant','admin') |  -   |   否   |      -      |   客户、商户、管理员    |
|  is_active  |          BOOLEAN          |  -   |   否   |      -      | 是否启用（禁用账号拦截） |
|   avatar    |          VARCHAR          | 255  |   否   |      -      |            用户头像             |
|  real_name  |          VARCHAR          |  50  |   是   |      -      | 真实姓名（商户 / 管理员需实名） |
|    phone    |          VARCHAR          |  20  |   否   |  唯一索引   |     手机号（登录 / 联系用）     |
|    email    |          VARCHAR          | 100  |   是   |  唯一索引   |          邮箱（可选）           |
| create_time |         DATETIME          |  -   |   否   |      -      |            注册时间             |
| update_time |         DATETIME          |  -   |   否   |      -      |            修改时间             |
|   id_card   |          VARCHAR          | 255  |   是   |      -      |          身份证号认证           |

### 2. 酒店表（`hotel`）

#### 作用：存储酒店核心信息（关联商户，简化审核相关字段）

|       字段名       |                数据类型                 | 长度 | 允许空 | 主键 / 外键 |                 备注说明                  |
| :----------------: | :-------------------------------------: | :--: | :----: | :---------: | :---------------------------------------: |
|      hotel_id      |                 BIGINT                  |  20  |   否   | 主键（PK）  |            酒店唯一 ID（自增）            |
|    merchant_id     |                 BIGINT                  |  20  |   否   | 外键（FK）  | 关联 `user.user_id`（仅角色 = 1 的商户）  |
|   hotel_name_cn    |                 VARCHAR                 | 100  |   否   |      -      |          酒店中文名（必须字段）           |
|   hotel_name_en    |                 VARCHAR                 | 200  |   否   |      -      |          酒店英文名（必须字段）           |
|      province      |                 VARCHAR                 |  50  |   否   |      -      |       省份（如：上海）（支持筛选）        |
|        city        |                 VARCHAR                 |  50  |   否   |    索引     |      城市（核心筛选字段，如：上海）       |
|      district      |                 VARCHAR                 |  50  |   否   |      -      |           区域（如：浦东新区）            |
|   detail_address   |                 VARCHAR                 | 200  |   否   |      -      |           详细地址（必须字段）            |
|     star_level     |       enum ('1','2','3','4','5')        |  -   |   否   |    索引     | 星级：1 = 一星～5 = 五星（核心筛选字段）  |
|     open_date      |                  DATE                   |  -   |   否   |      -      |           开业时间（必须字段）            |
|    description     |                  TEXT                   |  -   |   是   |      -      |             酒店简介（可选）              |
| nearby_attractions |                 VARCHAR                 | 500  |   是   |      -      | 附近景点（逗号分隔，如 “东方明珠，外滩”） |
|    traffic_info    |                 VARCHAR                 | 500  |   是   |      -      |     交通信息（如 “距浦东机场 10km”）      |
|     mall_info      |                 VARCHAR                 | 500  |   是   |      -      |      周边商场（如 “陆家嘴正大广场”）      |
|   online_status    |        enum ('offline','online')        |  -   |   否   |    索引     |        （商户可操作，下线可恢复）         |
|    audit_status    | enum ('rejected','auditing','approved') |  -   |   否   |      -      |                 审核状态                  |
|     audit_info     |                 VARCHAR                 | 500  |   是   |      -      |   审核备注信息：不通过的审核要附加信息    |
|    create_time     |                DATETIME                 |  -   |   否   |      -      |                 录入时间                  |
|    update_time     |                DATETIME                 |  -   |   否   |      -      |                 修改时间                  |

### 3. 酒店属性表（`hotel_attribute`）

#### 作用：存储酒店可选属性（支持前端筛选标签）

|  字段名   | 数据类型 | 长度 | 允许空 | 主键 / 外键 |                      备注说明                       |
| :-------: | :------: | :--: | :----: | :---------: | :-------------------------------------------------: |
|  attr_id  |  BIGINT  |  20  |   否   | 主键（PK）  |                 属性唯一 ID（自增）                 |
| attr_name | VARCHAR  |  50  |   否   |  唯一索引   | 属性名称（如 “亲子友好”、“免费停车场”、“豪华装修”） |
| attr_desc | VARCHAR  | 200  |   是   |      -      |                  属性描述（可选）                   |

### 4. 酒店 - 属性关联表（`hotel_attr_relation`）

#### 作用：解决酒店与属性的多对多关系

|   字段名   |      数据类型       | 长度 | 允许空 | 主键 / 外键 |            备注说明            |
| :--------: | :-----------------: | :--: | :----: | :---------: | :----------------------------: |
|     id     |       BIGINT        |  20  |   否   | 主键（PK）  |        关联 ID（自增）         |
|  hotel_id  |       BIGINT        |  20  |   否   | 外键（FK）  |     关联 `hotel.hotel_id`      |
|  attr_id   |       BIGINT        |  20  |   否   | 外键（FK）  | 关联 `hotel_attribute.attr_id` |
| UNIQUE KEY | (hotel_id, attr_id) |  -   |   -    |      -      |  联合唯一索引（避免重复关联）  |

### 5. 酒店图片表（`hotel_image`）

#### 作用：存储酒店详情页轮播图（Banner）

|   字段名   | 数据类型 | 长度 | 允许空 | 主键 / 外键 |               备注说明               |
| :--------: | :------: | :--: | :----: | :---------: | :----------------------------------: |
|  image_id  |  BIGINT  |  20  |   否   | 主键（PK）  |         图片唯一 ID（自增）          |
|  hotel_id  |  BIGINT  |  20  |   否   | 外键（FK）  |        关联 `hotel.hotel_id`         |
| image_url  | VARCHAR  | 500  |   否   |      -      |        图片 URL（建议云存储）        |
| sort_order | TINYINT  |  2   |   否   |      -      | 排序序号（1 = 第一张，控制轮播顺序） |
| image_desc | VARCHAR  | 200  |   是   |      -      |      图片描述（如 “酒店大堂”）       |

### 6. 房型表（`room_type`）

#### 作用：存储酒店房型核心信息（关联酒店，支持价格排序）

|      字段名       |     数据类型      | 长度 | 允许空 | 主键 / 外键 |                 备注说明                  |
| :---------------: | :---------------: | :--: | :----: | :---------: | :---------------------------------------: |
|      room_id      |      BIGINT       |  20  |   否   | 主键（PK）  |            房型唯一 ID（自增）            |
|     hotel_id      |      BIGINT       |  20  |   否   | 外键（FK）  | 关联 `hotel.hotel_id`（一个酒店多个房型） |
|     room_name     |      VARCHAR      | 100  |   否   |      -      | 房型名称（如 “经典双床房”、“豪华大床房”） |
|       price       |      DECIMAL      | 10,2 |   否   |    索引     |   原价（必须字段，支持价格筛选 / 排序）   |
|  discount_price   |      DECIMAL      | 10,2 |   是   |      -      |       优惠价（可选，无优惠则为空）        |
|     bed_type      |      VARCHAR      |  50  |   否   |      -      |    床型（如 “1.8m 大床”、“1.2m 双床”）    |
|       area        |      DECIMAL      | 5,1  |   是   |      -      |          房间面积（如 “25.5㎡”）          |
|       stock       |        INT        |  10  |   否   |      -      |    库存数量（可选，用于展示剩余房量）     |
| include_breakfast | enum ('no','yes') |  -   |   否   |      -      |                 是否含早                  |
|    max_people     |      TINYINT      |  1   |   否   |      -      |          最大入住人数（如 2、3）          |
|    description    |       TEXT        |  -   |   是   |      -      |   房型描述（如 “独立卫浴、免费 WiFi”）    |
|    create_time    |     DATETIME      |  -   |   否   |      -      |                 创建时间                  |
|    update_time    |     DATETIME      |  -   |   否   |      -      |                 修改时间                  |

### 7. 房型图片表（`room_image`）

#### 新增核心表：存储房型详情图（支持多图展示）

|   字段名   | 数据类型 | 长度 | 允许空 | 主键 / 外键 |                   备注说明                   |
| :--------: | :------: | :--: | :----: | :---------: | :------------------------------------------: |
|  image_id  |  BIGINT  |  20  |   否   | 主键（PK）  |             图片唯一 ID（自增）              |
|  room_id   |  BIGINT  |  20  |   否   | 外键（FK）  | 关联 `room_type.room_id`（一个房型多个图片） |
| image_url  | VARCHAR  | 500  |   否   |      -      |        图片 URL（建议云存储，如 OSS）        |
| sort_order | TINYINT  |  2   |   否   |      -      |     排序序号（1 = 第一张，控制展示顺序）     |
| image_desc | VARCHAR  | 200  |   是   |      -      |    图片描述（如 “房间全景”、“床品细节”）     |





（可选：优惠表）

### 8. 优惠表（`discount`）

#### 作用：存储酒店 / 房型的优惠规则（支持节日 / 套餐优惠）

|     字段名     | 数据类型 | 长度 | 允许空 | 主键 / 外键 |                           备注说明                           |
| :------------: | :------: | :--: | :----: | :---------: | :----------------------------------------------------------: |
|  discount_id   |  BIGINT  |  20  |   否   | 主键（PK）  |                     优惠唯一 ID（自增）                      |
| discount_type  | TINYINT  |  1   |   否   |      -      |    优惠类型：0 = 节日折扣、1 = 套餐优惠（如机票 + 酒店）     |
|  target_type   | TINYINT  |  1   |   否   |      -      |       适用对象：0 = 全酒店、1 = 指定酒店、2 = 指定房型       |
|   target_id    |  BIGINT  |  20  |   否   |      -      | 关联 ID：target_type=1→hotel_id；target_type=2→room_id；0 则填 0 |
| discount_rule  | VARCHAR  | 100  |   否   |      -      |             优惠规则（如 “8 折”、“立减 200 元”）             |
| discount_value | DECIMAL  | 10,2 |   否   |      -      |    优惠值：折扣率（0.8=8 折）或减金额（200 = 减 200 元）     |
|   start_time   | DATETIME |  -   |   否   |      -      |                         优惠生效时间                         |
|    end_time    | DATETIME |  -   |   否   |      -      |                         优惠失效时间                         |
|     status     | TINYINT  |  1   |   否   |      -      |         优惠状态：0 = 未生效、1 = 生效中、2 = 已过期         |
|  description   | VARCHAR  | 500  |   是   |      -      |              优惠描述（如 “春节期间 8 折优惠”）              |

## 